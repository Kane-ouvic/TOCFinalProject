from typing import Text
from linebot.models import TextSendMessage
from models.message_request import MessageRequest
from skills import add_skill
from models.pyChatGPT import ChatGPT


# @add_skill('{not_match}')
# def get(message_request: MessageRequest):
#     return [
#         TextSendMessage(text=f'You said: {message_request.message}')
#     ]
# session_token = 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..7lr71RC9WL2NT0kY.BsArmcsh_CyMf8ZBj3q2TXXZFaWqYtxbotntpqOhsOJrIzA51V2i6STH7BPLkXdU9qqo7ujLUb_8YahQTEckHco0TB8L0YKk9jZINtXIxHPQY1OYKXngUBFmHjWAMCX8VGecEfl3Mf8_Edq2jjvwU1Fo7S8icIKoMODpSz8Ah64FVsW-RcOeCCnT-bF1nsOHQswCJ2rNC4AZxnG8RO5OOjxPCa5IfRLuASX_Pl9wnLDTcbMS_gAC3WYOKg5O96ZTj2EiIRG8lX8_F25mAVl_-q0iitBKTyuHmjJqYRBhaQpFhqGtNjI7e73ExZnk67leRIKVTon3Wi8Xl4detCxcVetyeotp5VfeOIhz-IymTYBqARi_UXydd3iEVpyTbYaCPBjrgNeWFbu-LCW6RD0VfHL0ivG0Z-uB6tf1DWPOL0p26IhmuXhSkznDWagDBmpgjzykHt5ChfHurOTMfs_lPMNIBZH3qUBHc4nrtfOHKWnu86Itisa5G_EhHFwlUPNaFcs70k0d32W8pnTHEeU5DvjDMMXT1WJhSYdXZFaT92uvEWmExG_fRpXVlghMeS7N-23_16Df8n8MQTnwE2KdK9MSNBmngbSiNIo-SZGHVy116PVW6MJ6p0g27rGVtVF6QuPh5ePmkJHQVCajw1oFpVfauFHMYyWrR-84lP4vMARxx9TSm2m1ULaj6HlLxjFaqatiaP6mgziBFpZQvUFBSvFCrqHoHzMGPGkkOuMK-o2ah45jJtds0_1w7yK3uziKaqzLUQQn2vje5NDTtyh9c1r_7HYz3HB1rKS-nhQNhAf4K-o8MRzu3G9Kmmg2AokDkjABF-lweUszIDr-lz3vr_0KKrBKd5N2HkJRN7cjXhw-ZS7Cb9tuJzgsT9QI0-oknlBCtPp5O0s608QWFJrUPclBd9S4h0xoGwoI8zbNf9x7dy5f6PMgaDmpYDWqq7YcwdjkS_03VSoch7qEIRY1R9gMLcs1olkS0W6Ve3JEnmUztqkt9r7u-WlRmzpiq0FcuD4o_KeCxsKEw3kIE_L2XUIfbI5f39tii_SgBucGBv56F2CLweeLkcfe1Zac0dP7Wx20Q0Yoqb27NMngvExdDbv2DmyiYTofveLIRypLRbGhckMpK5xK5BNRWB925MNqfJ0i4yDwYvvUMVOEwpThz-5Soig58I0Ua-sh-sF9mJc-keloHgp_R4xXOnCizuKr8QMhPcn_Ux6YGF77tHDq59jRmifNkaJjguEUIVReHr3UdP6zqFuFjC5xXpnM_f_QgnBBzxWjvmGODjD1Uj5AgDRVZWOnYnRgX8XoNgoCKsnSCk5yTjEjpNHro4sqU8B_xD9I3n-qL5SYl2FJzr0h6JpIEFWvpVCjQvnRUe6LsyjhUprYxvrA4_Z80FIv7OpBmKfM0KAf4TsuOyBcq75-mJ4SaXqWCh7mjTRtJ9a6oR2aPDAWMbTOwcxhw4AYfKafj33JuV1CWcMFxrEGKiaw504IytEpV9AMr14pgSBGlD_yCRsd5YhBQLwhbjLwCtSt2spEynvcRDQe2yhldeSq76q6NIhJ8MXGpdLx6ConWO5pB921vjQFZssi9YoXBMD1qdAl1eP295D1NK0jsW_nmWh4RJOnrP_tCgveS4X_svcsXz-c4zSyjjy8ZR5IC-kXHYPFFRrCG0GHLkdl1csQ4D8OnJFG5PYEBKO3h7V6VM4FClG_g3exj2eS7zmZaV_qzSHQvcs-tNi7zBLgJ82r5Y9stZN3cE6EYnQTt2V49BvJ9nGCr1xlrlSuDXIuBA-O0FlfIdQn3mS2qAAKvg7cxRb7fj3AwA51Jm3btvfZKeg3vZx96tKuEI1Kn2MTbGGBSl1Eqof0fyWOdDARdgmdQIFiAiJ5-0NI145mEZlbnC2anm3A5V2pNbHZqQ3IzRF-Z8r6A3Bba5gp38QXKawxdXrOFHW3Iis95FKXG3EV6uqs425xxd5l7aM2eBM4tApHa6_40husCSUXNER__f1SO2myBa-6U15_LZJSjijHXCLdc72oQm-yM5J4uFdvs8w3l1lziHRxuaj38zH2Gq17Lrh-wKStJ6-4siItmkPtwA8ROUqAXjyh6vtoO0clTLKpGW65wzVvoqMdH44Tem0wgHMM6RlfYewDa_hfhNa7bakcwJ66BDRRRXvi2I8_aPHIn671hSU8s8WjJAj5M-FRBpGDm12wwzPaSh_jiBIJqUjeMpn653gp6i3d4XHTgAY07QG0.fbu1jNBXQ-Zx62hQ8-cd1g'  # `__Secure-next-auth.session-token` cookie from https://chat.openai.com/chat
# api1 = ChatGPT(session_token)
session_token = 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..hRF6X7PE91tzFp2Q.lNRPqfQll59s6-Tch4RRm4_6VC8urZ4WAUkuGfydgHsWRO17GiJMTzWHCpaY1oR_c6-r8b5PMjGCeNYxOYzYa-nKJgbrAZY3pEFjPWlny9AEDa_BXCnuGcx3efRx7SLoaxOb0dz1rXGYyS9IxRNuIyUvTwhDAMp_-F38RM2LEDzYiqqYDTh_VDTv304lUdMnaM4Zk17B2pAESJrIvAXPh8EkGO0cVy5kS4shfd1vmcsVbjr0XAGCD4H3JVlFpWJf-qkbUvWRZYVdzPqTWJrOUsHpjXwqJiYAQoFl-wfk5u-UaNeqCG9DBDU5gTSe5ZBC-JCy0WLNclHU_VDf6T4fkUT_FLE77jrTHx8XQqtl2yo3Yuiy6mwZaFzf2acoR8V7PwMqef-YmvXvbe2k1ETiUS1UBfSa0cXhnJwUtFK51Zm5t9PhxpI3-Q3PUyijCi7ZpRo4kUJBxU2cbrYV-bX0DaBVvdJoIOAmlvUjrs3PaHsSjjrFTcOTxjn2uXlDc_RGxYgtPv9kVa9negLOYf87mPYV8HTtMVFx3o3HlEdCvBPxeAALTPBOaOlI1ZQkneC-5hFzzokJKMIPsdDonO5r_WtOgJLaIpB1B58UE2kndT5M_G68I7wDUQRWeb607KjQhT6ooRQ1Q-3VMxacIXyWw5eNg0qO0xFhTo5FOrlmcO3_GWjMtXluFC7gemH8KLCyVGfGttx4Dok_JGH63pJriGS1Osn0gEiiEcAHFT5cfVX5IC03_dKlZUOOochxExGi1K1ezFnyKsIzn-nh7uecoggRmZq3qXEXF3Ni9w47NT1TXvnbgFtLH8q9xuFEbU3rVd1_Zll4pCwgAyzDDeHyZo-huhzz-c0_yGlaOhw7Uv89qc_JTtXI5x-LTIqOsO481RwTt8301633YgP0spm1u75A2OOwa7wHHw9sq8XBVNlDFfdDVD4OwXiDF3Z25rpW9XtaczyQ-ceaDniI5OepeV96FgPAqCPdkkFjh-a7uNltrpSvUPnLeem9j8wbBzUzXwEWbJJOQwWhEElAmlcM0gGF0D2NEkKQDRIir421ZM0tByCNAJ4WIKEW9TbXlTFXBCmcupYeEA4WfIYGBW6aSnVpMQcslmlOYAMsBK6UXDLOG4D1ds_qoeGF63gUnbchc0B27LSKFpHIfKASIF_BoEabXVWkyOqxkEyvVs13jKbTiuYzKxhzxk6hbq1Q-80Erc6GASwbdKseQzCGKt1Fsf_Ex9TOjs23FJyhCNYuk2vz2MAGcnEopobPg06zsPArzXmR6Y841EdNeiGim2WsOZ7M8LYtXTqcoIq3dwE2-WpefSNr9OaomItlfUjKda-m4PjX_O7yM_7Zg-XGwc3Jz-XRDfdt0Qww86nk3OH32LZh4AGlbMRBW7HbC2JvWIfnwWGDQBNsrCjqnn4swfiHCzSlWlWR4bQoOAEcHfxioWp-ndNLalP3hgp7XrVJEOfVI_kMsQraT3fqaOiS9qT3AxgDrgKnQ1QNb8bbh2tppEs9AEPOn-a8comh7wz61HQx6p2jZ_khTDVJ9IzuxFCRhlFPh5lOPpNeMl4kFG0y9Q52W4e6wyLgryVa15PS2DOdZt3fVrYyIVBN0HxZDICjdwe7KIoqL68Oi-4gOAhuI6vKNaPx6iqI0jWcbBKLZzQJ_7bI74BsBMLVzRHeEpL4Tr491dZEBGLL-YoF97NoInRfMzbM24p60__NSYbQq8KRTYDg5L9HKEwK9JpFY8bHrB3yrZHJ9si-plbYjEfNw8PIyCLe78LEa94eahdWw1e-So9gp-Y85-9-04PhIlEzV6wBNNL4zYE2ztqd3CyyShtIo40FCDlI6k7ckeYoe8N0L3oM1Y5exakUtmabD6VyJZbymR_JjxoBuqyMd_Ut0-edNZB0Pus7nl3J7oDPBBZCW-TS0lWyutnmNK89KORjEx_RwL1c24a9n1CVX_UgeAFz8G0Vp1HQyHoYTPQ-0nZvlP5rdMP2ixWXMXrigQCQ9iK7DB1rjkfDdCNtQTEWlEIwVWzXs6GqDoEaTV0t1PpzUCxDyyxDywWqXuHd1X-pzlEMaHpRepmZ06U7XQMA-OY1yLKJXCP8cnlZJ9Cm9xLGYa2gaeR7CoYaglfO14lfQeYXNc0fdJe-OpDl5IJpS6pHgXtAW-yqVB7EZ6pIrYOnaAc_ub2iLLM5_RVTl_ImsqkTB_5GshW2kFDNY8IfMXlg-JzcKrHDeBedFVBIyW55yg94.jcNKiNGW6ikDKDBfujco7g'  # `__Secure-next-auth.session-token` cookie from https://chat.openai.com/chat
api1 = ChatGPT(session_token)


@add_skill('{not_match}')
def get(message_request: MessageRequest):
    resp = api1.send_message(f'{message_request.message}')
    return [
        TextSendMessage(text=resp['message'])
    ]
