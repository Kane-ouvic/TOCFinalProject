from typing import Text
from linebot.models import TextSendMessage
from models.message_request import MessageRequest
from skills import add_skill
from models.pyChatGPT import ChatGPT


# @add_skill('{not_match}')
# def get(message_request: MessageRequest):
#     return [
#         TextSendMessage(text=f'You said: {message_request.message}')
#     ]
# session_token = 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..7lr71RC9WL2NT0kY.BsArmcsh_CyMf8ZBj3q2TXXZFaWqYtxbotntpqOhsOJrIzA51V2i6STH7BPLkXdU9qqo7ujLUb_8YahQTEckHco0TB8L0YKk9jZINtXIxHPQY1OYKXngUBFmHjWAMCX8VGecEfl3Mf8_Edq2jjvwU1Fo7S8icIKoMODpSz8Ah64FVsW-RcOeCCnT-bF1nsOHQswCJ2rNC4AZxnG8RO5OOjxPCa5IfRLuASX_Pl9wnLDTcbMS_gAC3WYOKg5O96ZTj2EiIRG8lX8_F25mAVl_-q0iitBKTyuHmjJqYRBhaQpFhqGtNjI7e73ExZnk67leRIKVTon3Wi8Xl4detCxcVetyeotp5VfeOIhz-IymTYBqARi_UXydd3iEVpyTbYaCPBjrgNeWFbu-LCW6RD0VfHL0ivG0Z-uB6tf1DWPOL0p26IhmuXhSkznDWagDBmpgjzykHt5ChfHurOTMfs_lPMNIBZH3qUBHc4nrtfOHKWnu86Itisa5G_EhHFwlUPNaFcs70k0d32W8pnTHEeU5DvjDMMXT1WJhSYdXZFaT92uvEWmExG_fRpXVlghMeS7N-23_16Df8n8MQTnwE2KdK9MSNBmngbSiNIo-SZGHVy116PVW6MJ6p0g27rGVtVF6QuPh5ePmkJHQVCajw1oFpVfauFHMYyWrR-84lP4vMARxx9TSm2m1ULaj6HlLxjFaqatiaP6mgziBFpZQvUFBSvFCrqHoHzMGPGkkOuMK-o2ah45jJtds0_1w7yK3uziKaqzLUQQn2vje5NDTtyh9c1r_7HYz3HB1rKS-nhQNhAf4K-o8MRzu3G9Kmmg2AokDkjABF-lweUszIDr-lz3vr_0KKrBKd5N2HkJRN7cjXhw-ZS7Cb9tuJzgsT9QI0-oknlBCtPp5O0s608QWFJrUPclBd9S4h0xoGwoI8zbNf9x7dy5f6PMgaDmpYDWqq7YcwdjkS_03VSoch7qEIRY1R9gMLcs1olkS0W6Ve3JEnmUztqkt9r7u-WlRmzpiq0FcuD4o_KeCxsKEw3kIE_L2XUIfbI5f39tii_SgBucGBv56F2CLweeLkcfe1Zac0dP7Wx20Q0Yoqb27NMngvExdDbv2DmyiYTofveLIRypLRbGhckMpK5xK5BNRWB925MNqfJ0i4yDwYvvUMVOEwpThz-5Soig58I0Ua-sh-sF9mJc-keloHgp_R4xXOnCizuKr8QMhPcn_Ux6YGF77tHDq59jRmifNkaJjguEUIVReHr3UdP6zqFuFjC5xXpnM_f_QgnBBzxWjvmGODjD1Uj5AgDRVZWOnYnRgX8XoNgoCKsnSCk5yTjEjpNHro4sqU8B_xD9I3n-qL5SYl2FJzr0h6JpIEFWvpVCjQvnRUe6LsyjhUprYxvrA4_Z80FIv7OpBmKfM0KAf4TsuOyBcq75-mJ4SaXqWCh7mjTRtJ9a6oR2aPDAWMbTOwcxhw4AYfKafj33JuV1CWcMFxrEGKiaw504IytEpV9AMr14pgSBGlD_yCRsd5YhBQLwhbjLwCtSt2spEynvcRDQe2yhldeSq76q6NIhJ8MXGpdLx6ConWO5pB921vjQFZssi9YoXBMD1qdAl1eP295D1NK0jsW_nmWh4RJOnrP_tCgveS4X_svcsXz-c4zSyjjy8ZR5IC-kXHYPFFRrCG0GHLkdl1csQ4D8OnJFG5PYEBKO3h7V6VM4FClG_g3exj2eS7zmZaV_qzSHQvcs-tNi7zBLgJ82r5Y9stZN3cE6EYnQTt2V49BvJ9nGCr1xlrlSuDXIuBA-O0FlfIdQn3mS2qAAKvg7cxRb7fj3AwA51Jm3btvfZKeg3vZx96tKuEI1Kn2MTbGGBSl1Eqof0fyWOdDARdgmdQIFiAiJ5-0NI145mEZlbnC2anm3A5V2pNbHZqQ3IzRF-Z8r6A3Bba5gp38QXKawxdXrOFHW3Iis95FKXG3EV6uqs425xxd5l7aM2eBM4tApHa6_40husCSUXNER__f1SO2myBa-6U15_LZJSjijHXCLdc72oQm-yM5J4uFdvs8w3l1lziHRxuaj38zH2Gq17Lrh-wKStJ6-4siItmkPtwA8ROUqAXjyh6vtoO0clTLKpGW65wzVvoqMdH44Tem0wgHMM6RlfYewDa_hfhNa7bakcwJ66BDRRRXvi2I8_aPHIn671hSU8s8WjJAj5M-FRBpGDm12wwzPaSh_jiBIJqUjeMpn653gp6i3d4XHTgAY07QG0.fbu1jNBXQ-Zx62hQ8-cd1g'  # `__Secure-next-auth.session-token` cookie from https://chat.openai.com/chat
# api1 = ChatGPT(session_token)
session_token = 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..SNAhut-8T-4YHlgK.XkNtaIuf8WjwBtauNagZ-a4i6RT2HdCi83xaJD1o8a4NSo03z_pSTTW-Vzn3lv5wbPo_ImHIU7kev9Tnfo2GmuoDZR8zkDeeorN78JdBpvGppcikLm5rwMSHP9pQHv0pJF8qdscOMfnZyi-dRRMfqCVUvFpj1JYo6kQG2XJjhKGDOtPOKfFyQrrsXK5GgswKNw1bDpPJ2hZ7fTnWGVLgcYSm2T16flH7deNpOrMPWy7O_q7HgUrE90TR2hfU809_3E-oxFc9diTgYE5x14fb9sLDtjIyZl7-sUFLFW-4JTmh22qHt2BX4Npz3Lex-pd7QYQbzN4wzKeb27qCzu8rVQ9x0AuHQsa1DkqvOEkgu4k8VRst-47XISDzh_sB0i6LQ3t_S9YhdJGvmLrbX-NhvCPQCgQ1dLzWCFz8jkHwiuCzTBE7iEindJOf7l-GfeFyluH9-r5LmG0nVci5I1z77j0y0rOwGd7b_nWGRRv60SDlISLBAaUOt3OLWSjXmyWPk-xtkrKSsGZeXV42gGSePhfTzRQAuqJCxMtQSqByYJAK8fqop4zwJ1q1ph4TnRYH8vMFBc7V5GGsQxTHZpFbH2dM50YlgaLzQwJDM39BgnuVMDQOrPuVyZn-k_aAUGZI-Gntm26pFb-xEDBKt-LB7zjrzlAtllrR0bB5w91_LolYfT2SuWp3Mjf1fCgjlOMFR9avHEiETGnQrYHsxZ5ghRzR9CYoEb9xUATyHvG-7lOe0TJZumsTBKvNR7oV-qs_vIshrwgQsAeg79OdQ9kErz4UcB7cAqknmOX9Qr64OgbtWmFjUo-rQbqV071o_rJnTQ7Tb0s-zNqoBYEsOCC3BqAo5aq5fGPNDfYJWgnjNfTp3u6X-F-X448HNlLOyYpZM477jrXXEFTSC-KWlq03Ju1VpPawIQdk73wNw1xuHmMROpBRdT5i630jatuNUvvStbUHefn7fUFGpTKK6t6Ie_AxvK3tquPxwcbckZRBDLQBobq4us8PBUY2HPVAZauljN71vqmGdtKusagaqMWEvYVhS0kLwXemF4XZ5Cj0XiFlq-HW3T5zt27o2SfZT-r4ayjnqWEA1LZ8_Z9BCgmwVXKM6BvnDiOd6SYmbYFlz3Kz2BB11SkF6_Y0wbmSF9EP63B23_RArHRVLA5wZo0ydImt_Q2qH9qXVkEDMSS_hJ15gUO6J0tW3VXL5PuUSCoece1rVQkvllwaw89w7E4k9MRNuk-pOQIQnyGBGCpoLWzBmi3CZ4OayodK2Jzd_x9zp7sqqUVHZD0xTUjGvUAumwyyuYwkgyaFJRAWL84MO0YcKGF56kQoUgQqYsrBjH1jw0Y27zHhnACijrY7waofIJ-3xRid5o6prbNMOYGc2E-ENYTD0QRrYhSmHQeh_lU5eNnXMWak67ZRVi5Nz6Jdim110u5aVun7DfQkdxfxbVFy1LtWA-OR2IgWZJfV8h6LR3Nau7DnLzFOF4yOQi0RhVLFv5LZa3ZaqObZNIUyg4JaYd8EF3r0_B2Sa3cZyTx5TEgx3ehjeNsmIK8xHREIX5Ly8yy_ha3abos04NamSXzhaNMTit77WgOSDpXVckyrYe3hBikLoXN_o4sfpDQ8BpGdN0qfg8uuAOzf6i7IVfIsdzmEj2WrJwl8MH5bEKHag5jQVuCd5LZo0VcPj1z_eQAOTsYDt5RVL9bdtQcvxjVPbXJri-SsTd5jJ1c4iwEmau0ZDfss-W3ovaF1cMZGWYcXBOmorDE1viyKsWf2kr2T4Sb0XkYUHHRK2-4iJBnf_SbRMRpH7uKAsdMnr-roy9D6KWTASUfAVUl9EgnpHhVQVO0-KdcBfXFSVPYEcp75BMFuDU4v_fpEarM0oRg-PCChQF4z6n6yBSLVMBpaRHIfu0mqYoEvgNRFZlLZCmIPgqsjKdyjqZ4nO5mC5jHXj1ir9s8R7lmAXAY-5ISzV52I1m1QRiYe9MszQ2GSq5cKOjoRi_M6hLRoKFMlFsO7q3R7vV8pOY0OfhYkbFBxVIxaRkjBGC7M5EcHDMXDGxEVpeBE1XPXFlWeNK0CS7GzNb_hTdcDqBHvePaRjn7UWgNu2j3P8Q0HrdWyhm3f3jfRcEuNkOReJEa9xqZjGkKxpnqoOkOH8C5qbo1hyznhkJDhV8SVx1esytMmUBxU5mR7qTOCfxXxjA6qZeZKICNQb63kDrcd4bAR77eTWkdBGV4rsmSC-UwiX4o9Rw3HdczlrrkiGYzDLL67xB837ICnIg.PuDVPi_aTj3pOuO-sNeOgA'  # `__Secure-next-auth.session-token` cookie from https://chat.openai.com/chat
api1 = ChatGPT(session_token)


@add_skill('{not_match}')
def get(message_request: MessageRequest):
    resp = api1.send_message(f'{message_request.message}')
    return [
        TextSendMessage(text=resp['message'])
    ]
